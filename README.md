#  Хеш-файл для сутності «Рейс». Графічний аналіз заповнення

**Автор:** Дарина Клюшніченко  
**Предмет:** Організація баз даних  
**Тема:** Організація файлів — хеш-зберігання даних  
**Мова реалізації:** Python + Streamlit  
**Предметна область:** Авіакомпанія (ER-модель)



<img width="789" height="601" alt="image" src="https://github.com/user-attachments/assets/6e258b69-c6c3-411f-99d8-785744e848ef" />
---

##  Опис проєкту

Репозиторій містить програмну реалізацію **імітаційної моделі хеш-файлу** для сутності `Рейс`, створену на основі ER-моделі авіакомпанії.  
Програма моделює роботу файлової організації з використанням **мультиплікативного алгоритму хешування** та показує **зони щільного заповнення** у хеш-таблиці.  

Розроблено як аналог механізму хеш-індексів, що використовується в **ArangoDB** (мультимодельна NoSQL-СУБД з підтримкою графів, документів і колекцій).

---

##  Функціональні можливості

- Виконання команд:
  - `INSERT` — вставка запису;
  - `SELECT` — пошук за ключем;
  - `DELETE` — видалення запису.
- Генерація вхідного файлу з тестовими даними.
- Графічне відображення заповнення слотів хеш-файлу.
- Виявлення зон щільного заповнення:
  - методом **суцільних пробігів (runs)**;
  - методом **ковзного вікна (window)**.
- Підрахунок коефіцієнта заповнення α (load factor).
- Теоретичний і фактичний аналіз колізій.

---

##  Структура репозиторію
hash-lab-flight/
│

├── streamlit_app.py # основна програма (Streamlit UI)

├── hash_file.py # логіка хешування та операцій

├── data/

│ ├── commands.txt # приклад вхідного файлу команд

## Теоретичні параметри

| Параметр | Позначення | Значення |
|-----------|-------------|-----------|
| Простір ключів | N | 100 000 |
| Розмір файлу | M | 5000 |
| Кількість записів | n | ≈ 1000 |
| Теоретичний коефіцієнт заповнення | α = n/M | 0.20 |
| Очікувана кількість колізій | | ≈ 100 |

---

##  Формат командного файлу

Кожен рядок має структуру:

`<command>/<id>/<route>/<time>/<airline>/<plane>/<from>/<to>`

### Приклад:
insert/49441/KBP->WAW/09:30/39/853/KBP/WAW
insert/78611/IEV->KBP/14:30/17/140/IEV/KBP
select/49441
delete/78611


##  Аналогія з ArangoDB

**ArangoDB** використовує `Hash Indexes` для пошуку документів і ребер у графових колекціях.  
Реалізована модель імітує поведінку подібного хеш-індексу — **фіксований простір слотів**, **швидкий доступ O(1)** і **поступове утворення кластерів** при зростанні коефіцієнта заповнення α.

Так само, як у ArangoDB, результат демонструє появу **щільних зон** (*clustered regions*) при навантаженні **> 0.4**.

---

##  Результати експерименту

| Метрика | Значення |
|----------|-----------|
| Активних записів | 2274 |
| Розмір файлу | 5000 |
| α фактична | 0.4548 |
| Кількість операцій | 2480 |

---

##  Візуалізація результатів

<img width="1918" height="879" alt="image" src="https://github.com/user-attachments/assets/1a1c69f5-c774-4e21-8730-c168f8da0aa5" />
<img width="1910" height="785" alt="image" src="https://github.com/user-attachments/assets/58b02500-7de2-4c92-a0cf-9dbcd9b4bf30" />
<img width="1899" height="807" alt="image" src="https://github.com/user-attachments/assets/aff8318a-59d0-446d-8cc9-2c3685b545fe" />


---

##  Висновки

- Реалізовано симуляцію **хеш-файлу для сутності “Рейс”** з ER-моделі авіакомпанії.  
- Використано **мультиплікативний метод хешування** з лінійним пробуванням.  
- Проведено аналіз заповнення файлу та виявлено **5 зон щільного заповнення** довжиною **12–16 слотів**.  
- Отримані результати відповідають теоретичним очікуванням при коефіцієнті заповнення **α ≈ 0.45**.  
- Проєкт відображає принципи організації **хеш-індексів у NoSQL-СУБД**, зокрема **ArangoDB**.
